{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","services/apiService.js","components/Modal/Modal.jsx","components/App.jsx","index.js"],"names":["SearchBar","state","query","PropTypes","onSubmit","func","isRequired","onChange","event","setState","currentTarget","name","value","handleSubmit","preventDefault","props","this","className","type","autoComplete","autoFocus","placeholder","Component","Button","onClick","ImageGalleryItem","url","description","id","src","alt","defaultProps","ImageGallery","photoData","children","setLargeImage","map","item","webformatURL","tags","largeImageURL","Loader","arrayOfLoaderParts","Array","keys","foregroundColor","viewBox","speed","x","y","rx","ry","width","height","axios","defaults","baseURL","apiRequest","page","get","modalRef","document","querySelector","Modal","closeKeydownModal","code","closeOverlayModal","target","window","addEventListener","removeEventListener","createPortal","App","isLoading","showLoadMoreButton","error","largeImage","showModal","onClickLoadMore","prevState","findImages","then","data","hits","length","scrollBy","top","behavior","catch","finally","imgUrl","toggleModal","info","text","prevProps","scrollTo","Searchbar","ReactDom","render","StrictMode"],"mappings":"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","file":"static/js/main.7b454105.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: \"\"\r\n  };\r\n\r\n  PropTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  onChange = (event) => {\r\n    this.setState({\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({\r\n      query: ''\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const {query} = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"icon-search\"></span>\r\n          </button>\r\n          <input\r\n            onChange={this.onChange}\r\n            name=\"query\"\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ url, description, onClick, id }) => {\r\n  return (\r\n    <li onClick={onClick} className=\"gallery-item\" key={id}>\r\n      <img src={url} alt={description} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.defaultProps = {\r\n  description: \"photo preview\",\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  description: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ photoData, children, setLargeImage }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {photoData.map((item) => (\r\n        <ImageGalleryItem\r\n          url={item.webformatURL}\r\n          description={item.tags}\r\n          onClick={() => setLargeImage(item.largeImageURL, item.tags)}\r\n          id={item.id}\r\n          key={item.id}\r\n        />\r\n      ))}\r\n      {children}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  photoData: PropTypes.array.isRequired,\r\n  setLargeImage: PropTypes.func.isRequired,\r\n};","import React from \"react\";\r\n// import \"./Loader.scss\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nconst Loader = () => {\r\n  const arrayOfLoaderParts = [...Array(12).keys()];\r\n  return (\r\n    <>\r\n      {arrayOfLoaderParts.map((item) => (\r\n        <ContentLoader key={item} foregroundColor=\"#cac0c0\" viewBox=\"0 0 720 520\" className=\"LoaderPart\" speed={1}>\r\n          <rect x=\"0\" y=\"0\" rx=\"2\" ry=\"2\" width=\"720\" height=\"520\" />\r\n        </ContentLoader>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst key = '25101281-0090f5d9635a12b4d0ee56ce5';\r\n\r\nexport const apiRequest = (query, page) => {\r\n  return axios.get(`/?image_type=photo&key=${key}&orientation=horizontal&q=${query}&page=${page}&per_page=12`);\r\n};","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRef = document.querySelector(\"#root-modal\");\r\n\r\nexport default class Modal extends Component {\r\n  closeKeydownModal = (event) => event.code === \"Escape\" && this.props.onClick();\r\n  closeOverlayModal = (event) => event.target === event.currentTarget && this.props.onClick();\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeKeydownModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeKeydownModal);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div onClick={this.closeOverlayModal} className=\"Overlay\">\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRef\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport Button from \"./Button/Button\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Loader from \"./Loader/Loader\";\r\nimport { apiRequest } from \"../services/apiService.js\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport { info } from \"@pnotify/core\";\r\nimport \"@pnotify/core/dist/PNotify.css\";\r\nimport \"@pnotify/core/dist/BrightTheme.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    photoData: [],\r\n    page: 1,\r\n    showLoadMoreButton: false,\r\n    query: \"\",\r\n    error: \"\",\r\n    largeImage: \"\",\r\n    showModal: false,\r\n    description: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    info({ text: \"Type your query and find photos\" });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.query !== prevState.query) {\r\n      this.findImages();\r\n      window.scrollTo(0, 0);\r\n    }\r\n    if (this.state.page !== prevState.page && this.state !== 1) {\r\n      this.findImages();\r\n    }\r\n  }\r\n\r\n  onSubmit = (query) => {\r\n    this.setState({ query: query, error: \"\", page: 1, photoData: [] });\r\n  };\r\n\r\n  onClickLoadMore = () => {\r\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  findImages = () => {\r\n    const { page } = this.state;\r\n    this.setState({ isLoading: true, showLoadMoreButton: false });\r\n\r\n    apiRequest(this.state.query, page)\r\n      .then(({ data }) => {\r\n        this.setState((prevState) => ({\r\n          photoData: [...prevState.photoData, ...data.hits],\r\n          showLoadMoreButton: data.hits.length === 12 && true,\r\n          error: data.hits.length === 0 && \"Opps, nothing found\",\r\n        }));\r\n        window.scrollBy({\r\n          top: 260,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch(() => this.setState({ error: \"Oops, something went wrong\" }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  setLargeImage = (imgUrl, description) => {\r\n    this.toggleModal();\r\n    this.setState({ largeImage: imgUrl, description: description });\r\n  };\r\n\r\n  toggleModal = () => this.setState((prevState) => ({ showModal: !prevState.showModal }));\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onSubmit} />\r\n        {this.state.error && <h2 className=\"errorMesage\">{this.state.error}</h2>}\r\n        {!this.state.error && (\r\n          <ImageGallery setLargeImage={this.setLargeImage} photoData={this.state.photoData}>\r\n            {this.state.isLoading && <Loader />}\r\n          </ImageGallery>\r\n        )}\r\n        {this.state.showLoadMoreButton && <Button onClick={this.onClickLoadMore} />}\r\n        {this.state.showModal && (\r\n          <Modal onClick={this.toggleModal}>\r\n            <img src={this.state.largeImage} alt={this.state.description} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\n\r\nimport App from './components/App';\r\n\r\nimport './css/styles.css';\r\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nReactDom.render(\r\n<React.StrictMode>\r\n<App/>\r\n</React.StrictMode>\r\n, document.querySelector('#root'));"],"sourceRoot":""}